---
import Layout from "@layout/Layout.astro";

const contactStructuredData = {
    "@context": "https://schema.org",
    "@type": "ContactPage",
    name: "Contact Brix Studio",
    description:
        "Neem contact op met Brix Studio voor een creatieve website, design of AI-oplossing. Plan een gratis consult en laat ons je helpen met je digitale uitdagingen.",
    url: "https://www.brixstudio.nl/contact",
    mainEntity: {
        "@type": "Organization",
        name: "Brix Studio",
        email: "info@brixstudio.nl",
        address: {
            "@type": "PostalAddress",
            addressLocality: "Amsterdam",
            addressCountry: "NL",
        },
    },
    breadcrumb: {
        "@type": "BreadcrumbList",
        itemListElement: [
            {
                "@type": "ListItem",
                position: 1,
                name: "Home",
                item: "https://www.brixstudio.nl",
            },
            {
                "@type": "ListItem",
                position: 2,
                name: "Contact",
                item: "https://www.brixstudio.nl/contact",
            },
        ],
    },
};
---

<Layout
    title="Contact | Brix Studio"
    description="Neem contact op met Brix Studio voor een creatieve website, design of AI-oplossing. Plan een gratis consult en laat ons je helpen met je digitale uitdagingen."
    structuredData={contactStructuredData}
>
    <section class="contact">
        <!-- <div class="gradient-container" aria-hidden="true">
            <div class="gradient-element"></div>
        </div> -->

        <h1>Contact</h1>
        <p>
            Heb je een vraag, wil je sparren of wil je weten hoe we jouw bedrijf
            kunnen helpen met AI-agents of een nieuwe website? Vul het formulier
            in en we nemen snel contact met je op. Een gratis analyse aanvragen
            mag natuurlijk ook.
        </p>

        <form id="contactForm" class="form">
            <div class="form-item">
                <label> Naam* </label>
                <input type="text" name="name" required />
            </div>

            <div class="form-item">
                <label> E-mail* </label>
                <input type="email" name="email" required />
            </div>

            <div class="form-item">
                <label> Bericht* </label>
                <textarea name="message" required></textarea>
            </div>

                <button class="send-button squircle" type="submit" tabindex="0"
                    >Verstuur <svg
                        class="arrow-icon"
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="3"
                        stroke="currentColor"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path>
                    </svg></button
                >
        </form>
    </section>
</Layout>

<script is:inline>
    document.addEventListener("DOMContentLoaded", () => {
        gsap.registerPlugin(ScrollTrigger);

        // Animate the 404 number with a subtle entrance
        gsap.from(".contact h1", {
            y: -50,
            opacity: 0,
            duration: 1,
            ease: "power3.out",
        });

        // Stagger the entrance of the other elements
        gsap.from("p, .form-item, .send-button", {
            y: 30,
            opacity: 0,
            stagger: 0.2,
            duration: 0.8,
            ease: "power2.out",
            delay: 0.3,
        });
    });
</script>

<style>
    .contact {
        padding: 80px 25px;
    }

    p {
        padding-top: 24px;
        line-height: 1.4;
        padding-bottom: 40px;
        font-family: "Jetbrains", sans-serif;
    }

    form {
        display: grid;
        grid-template-columns: 1;
        gap: 24px;
        margin: 0 auto;
        max-width: 680px;
    }

    form div {
        display: grid;
        grid-template-columns: 1;
    }

    label {
        font-weight: 600;
        font-size: 14px;
        line-height: 24px;
        padding-left: 4px;
    }

    input,
    textarea {
        border: none;
        background-color: var(--light-area);
        padding: 8px 20px;
        border-radius: 8px;
    }

    input {
        height: 44px;
    }

    textarea {
        height: 128px;
    }

    .send-button {
        display: flex;
        font-size: 20px;
        max-width: max-content;
        align-items: center;
        background-image: linear-gradient(90deg, #3a6caa 50%, #facc15 50%);
        font-weight: 700;
        color: var(--light-color);
        padding: 12px 20px;
        margin: 24px 0 0 auto;
        justify-content: space-between;
        background-size: 300%;
        transition: background-position 0.6s;
        text-decoration: none;
    }

    .send-button:hover {
        color: #fff;
        background-position: 100%;
    }

    .arrow-icon {
        width: 24px;
        height: auto;
        margin-left: 14px;
    }

    @media screen and (min-width: 813px) {
        .contact {
            padding: 120px 60px;
        }

        h1 {
            text-align: center;
        }

        p {
            width: 90%;
            text-align: center;
            margin: 0 auto;
            padding-bottom: 80px;
        }
    }

    @media screen and (min-width: 1024px) {
        .contact {
            padding: 120px 60px;
        }
    }
</style>

<script type="module">
    document
        .getElementById("contactForm")
        .addEventListener("submit", async (e) => {
            e.preventDefault();
            const form = e.target;

            const data = {
                name: form.name.value,
                email: form.email.value,
                message: form.message.value,
            };

            const res = await fetch("/api/contact", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(data),
            });

            if (res.ok) {
                window.location.href = "/succes";
            } else {
                alert("Fout bij verzenden.");
            }
        });
</script>
